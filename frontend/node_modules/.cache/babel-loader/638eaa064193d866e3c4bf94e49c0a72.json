{"ast":null,"code":"import _slicedToArray from \"/home/xiaochen/Downloads/cs316project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/xiaochen/Downloads/cs316project/frontend/src/components/authentication/login.authentication.js\";\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\n\nconst postLogin = async post => {\n  post.event.preventDefault();\n  const url = \"http://67.159.88.90:8000/rest-auth/login/\";\n  axios.post(url, {\n    username: post.username,\n    password: post.password\n  }).then(res => {\n    if (res.data.key) {\n      localStorage.setItem(\"key\", res.data.key);\n      localStorage.setItem(\"username\", res.data.user.username);\n      localStorage.setItem(\"email\", res.data.user.email);\n      localStorage.setItem(\"uid\", res.data.user.id);\n      post.history.push(\"/profile\");\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginTop: theme.spacing(14),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  form: {\n    margin: theme.spacing(1)\n  }\n}));\nexport default function Login() {\n  let history = useHistory();\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        username = _useState2[0],\n        setUsername = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const classes = useStyles();\n  return React.createElement(Container, {\n    className: classes.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    position: \"static\",\n    component: \"h1\",\n    variant: \"h4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    name: \"username\",\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    label: \"Username\",\n    value: username,\n    onChange: event => setUsername(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    name: \"password\",\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    label: \"Password\",\n    type: \"password\",\n    value: password,\n    onChange: event => setPassword(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(FormControlLabel, {\n    control: React.createElement(Checkbox, {\n      value: \"remember\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }),\n    label: \"Remember me\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: event => postLogin({\n      event: event,\n      username: username,\n      password: password,\n      history: history\n    }),\n    className: classes.submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Sign In\")));\n}","map":{"version":3,"sources":["/home/xiaochen/Downloads/cs316project/frontend/src/components/authentication/login.authentication.js"],"names":["React","useState","makeStyles","Container","Typography","Button","TextField","FormControlLabel","Checkbox","axios","useHistory","postLogin","post","event","preventDefault","url","username","password","then","res","data","key","localStorage","setItem","user","email","id","history","push","catch","err","console","log","useStyles","theme","container","marginTop","spacing","display","flexDirection","alignItems","form","margin","Login","setUsername","setPassword","classes","target","value","submit"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\n\nconst postLogin = async (post) => {\n  post.event.preventDefault();\n  const url = \"http://67.159.88.90:8000/rest-auth/login/\";\n  axios.post(url, {\n    username: post.username,\n    password: post.password\n  }).then(res => {\n    if(res.data.key){\n      localStorage.setItem(\"key\", res.data.key);\n      localStorage.setItem(\"username\", res.data.user.username);\n      localStorage.setItem(\"email\", res.data.user.email);\n      localStorage.setItem(\"uid\", res.data.user.id);\n\n      post.history.push(\"/profile\");\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n\n}\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginTop: theme.spacing(14),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  form: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function Login() {\n  let history = useHistory();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const classes = useStyles();\n  return(\n        <Container className={classes.container}>\n          <Typography position=\"static\" component=\"h1\" variant=\"h4\">\n            Login\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField \n              name = \"username\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              label=\"Username\"\n              value = {username}\n              onChange = {event => setUsername(event.target.value)}\n            />\n            <TextField \n              name = \"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              label=\"Password\"\n              type=\"password\"\n              value = {password}\n              onChange = {event => setPassword(event.target.value)}\n            />\n            <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={event => postLogin({event: event, username: username, password: password, history: history})}\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n          </form>\n        </Container>\n  );\n\n}"]},"metadata":{},"sourceType":"module"}